<div class="page-view">
  <mat-card *ngFor="let reservation of orders" class="card-customer">
    <mat-card-content>

      <p class="p-name">Date: {{ reservation.date }}</p>
      <p class="p-name">Name: {{ reservation.customer.name }} </p>
      <p class="p-text">Address: {{ reservation.customer.address }}</p>
      <p class="p-text">Email: {{ reservation.customer.email }}</p>
      <p class="p-text">Phone: {{ reservation.customer.phone }}</p>
      <p class="p-text">Status: {{ reservation.paymentStatus }}</p>
      <p class="p-text">Order id: {{ reservation.id }}</p>
      <p class="p-text">Order Details: {{ reservation.details }}</p>

      <div *ngIf="reservation.productList && reservation.productList.length > 0">
        <h3 class="p-name">Products:</h3>
        <div style="display: flex; flex-wrap: wrap; gap: 16px; margin: 16px 0;">
          <div style="display: flex; align-items: start; width: 100%" *ngFor="let item of reservation.productList">
            <img [src]="item.image" class="img-preview" [alt]="item.name"/>
            <div style="margin-left: 16px; flex-grow: 1">
              <p class="lbl-title-details">{{ item.name }}</p>
              <p class="lbl-description-details">{{ item.description }}</p>
              <p class="lbl-price">{{ item.price }} RON</p>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="!reservation.productList || reservation.productList.length === 0"
           style="text-align: center; padding: 16px;">
        <p>No products in this order</p>
      </div>

      <p class="p-total">Total: {{ reservation.total }} RON</p>

      <div class="div-admin-controls">
        <button mat-raised-button color="primary" class="btn-action margin-bottom"
                [disabled]="reservation.paymentStatus !== 'PENDING'"
                (click)="onConfirm(reservation)">
          Confirm
        </button>
        <button mat-raised-button color="warn" class="btn-action margin-bottom"
                [disabled]="reservation.paymentStatus !== 'PENDING'"
                (click)="onCanceled(reservation)">
          Cancel
        </button>
        <button mat-raised-button color="accent" class="btn-action margin-bottom"
                [disabled]="reservation.paymentStatus === 'PENDING'"
                (click)="onDelete(reservation)">
          Delete
        </button>
      </div>
    </mat-card-content>
  </mat-card>
</div>
